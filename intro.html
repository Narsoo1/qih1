<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Intro - Qih</title>
  <script src="https://cdn.tailwindcss.com"></script>


  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet" />

  <style>
    html, body {
      background-color: #111827;
      font-family: 'Orbitron', sans-serif;
    }

    .fade-in {
      opacity: 0;
      animation: fadeIn 0.5s ease-out forwards;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.96); }
      to { opacity: 1; transform: scale(1); }
    }
  </style>
</head>
<body class="text-white flex flex-col items-center justify-center min-h-screen -translate-y-6">


  <h1 class="text-5xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 text-transparent bg-clip-text mb-4 fade-in">
    Qih
  </h1>


  <p class="text-gray-400 text-sm fade-in"></p>


  <div id="errorMsg" class="mt-6 text-red-400 hidden text-sm text-center">internet mana</div>


<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-auth.js";
  
  const firebaseConfig = {
    apiKey: "AIzaSyBgZX_GKkekzJ8KwxLaAsZiDKm8moTuWAA",
    authDomain: "room-chat-4f487.firebaseapp.com",
    projectId: "room-chat-4f487",
    storageBucket: "room-chat-4f487.appspot.com",
    messagingSenderId: "429375918482",
    appId: "1:429375918482:web:c52cbf150d45561024f14b"
  };
  
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  
  const errorMsg = document.getElementById('errorMsg');
  
  window.onload = () => {
    if (!navigator.onLine) {
      errorMsg.innerText = "Internet aktifkan king.";
      errorMsg.classList.remove("hidden");
      return;
    }
    
    errorMsg.classList.add("hidden");
    errorMsg.innerText = "";
    
    onAuthStateChanged(auth, async (user) => {
      await new Promise(resolve => setTimeout(resolve, 2000)); 
      
      if (user && user.emailVerified) {
        window.location.href = "home.html";
      } else {
        window.location.href = "login.html";
      }
    });
  };
  
  window.addEventListener("offline", () => {
    errorMsg.innerText = "Tidak ada koneksi internet.";
    errorMsg.classList.remove("hidden");
  });
</script>
</body>
</html>